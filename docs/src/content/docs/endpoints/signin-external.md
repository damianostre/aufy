---
title: Sign in with external provider
sidebar:
  order: 13
---

Sign in with external provider endpoint using a special cookie generated by a challenge endpoint.
Returns access token in the response body and refresh token as HTTP only cookie for better security.

| Info           |                                    |
|:---------------|:-----------------------------------|
| Method         | `POST`                             |
| Route group    | `auth`                             |
| Path           | `{auth}/signin/external`           |
| Type           | `SignInExternalEndpoint<TUser>`    |
| Authentication | `Aufy.ExternalSignInScheme` cookie |

### Query parameters

| Name        | Type      | Description                                           |
|:------------|:----------|:------------------------------------------------------|
| `usecookie` | `boolean` | Use cookie to store access token. Default is `false`. |

### Response body

| Name           | Type     | Description                       |
|:---------------|:---------|:----------------------------------|
| `access_token` | `string` | JWT token.                        |
| `expires_in`   | `number` | Token expiration time in seconds. |
| `token_type`   | `string` | `Bearer`                          |

### Response Cookies

| Name                | Type     | Description                                                                            |
|:--------------------|:---------|:---------------------------------------------------------------------------------------|
| `Aufy.RefreshToken` | `string` | HTTP only cookie with refresh token.                                                   |
| `Aufy.AccessToken`  | `string` | HTTP only cookie with access token. Set only if `usecookie` query parameter is `true`. |
